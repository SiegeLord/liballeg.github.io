<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><title
    ></title
    ><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"
     /><meta name="generator" content="pandoc"
     /><script type="text/javascript" src="autosuggest.js"></script>
<script type="text/javascript" src="search_index.js"></script>
<link rel="stylesheet" href="pandoc.css" type="text/css" media="all" />
</head
  ><body
  ><table class="white">
<tr>
<td valign="top" class="sidebar">

<div class="sidebar">
<ul
><li
  ><a href="index.html"
    >Front</a
    ></li
  ><li
  ><a href="config.html"
    >Configuration files</a
    ></li
  ><li
  ><a href="display.html"
    >Display</a
    ></li
  ><li
  ><a href="events.html"
    >Events</a
    ></li
  ><li
  ><a href="file.html"
    >File I/O</a
    ></li
  ><li
  ><a href="fshook.html"
    >Filesystem hooks</a
    ></li
  ><li
  ><a href="graphics.html"
    >Graphics</a
    ></li
  ><li
  ><a href="joystick.html"
    >Joystick</a
    ></li
  ><li
  ><a href="keyboard.html"
    >Keyboard</a
    ></li
  ><li
  ><a href="memory.html"
    >Memory</a
    ></li
  ><li
  ><a href="misc.html"
    >Miscellaneous</a
    ></li
  ><li
  ><a href="mouse.html"
    >Mouse</a
    ></li
  ><li
  ><a href="opengl.html"
    >OpenGL</a
    ></li
  ><li
  ><a href="path.html"
    >Path</a
    ></li
  ><li
  ><a href="state.html"
    >State</a
    ></li
  ><li
  ><a href="system.html"
    >System</a
    ></li
  ><li
  ><a href="threads.html"
    >Threads</a
    ></li
  ><li
  ><a href="time.html"
    >Time</a
    ></li
  ><li
  ><a href="timer.html"
    >Timer</a
    ></li
  ><li
  ><a href="utf8.html"
    >UTF-8</a
    ></li
  ><li
  ><a href="kcm_audio.html"
    >Audio addon</a
    ></li
  ><li
  ><a href="acodec.html"
    >Audio codecs</a
    ></li
  ><li
  ><a href="color.html"
    >Color addon</a
    ></li
  ><li
  ><a href="font.html"
    >Font addons</a
    ></li
  ><li
  ><a href="iio.html"
    >Image I/O addon</a
    ></li
  ><li
  ><a href="native_dialog.html"
    >Native dialogs addon</a
    ></li
  ><li
  ><a href="physfs.html"
    >PhysicsFS addon</a
    ></li
  ><li
  ><a href="primitives.html"
    >Primitives addon</a
    ></li
  ></ul
><!-- keep blank line for correct HTML -->
</div>

<div class="searchbox">
<script type="text/javascript">
function onSubmit(form) {
    for (i = 0; i < search_index.length; i++) {
        if (search_index[i] == form.q.value) {
            form.action = search_urls[i];
            form.method = "POST";
            return true;
        }
    }
    // Search-term is not in the index.
    // We could add an URL here which does a fulltext search - for
    // now we simply do nothing by return false to the form.
    return false;
}
</script>
<form id="search" action="search.py" onSubmit="return onSubmit(this);"><input type="text" name="q" id="q" autocomplete="off" /><br /> <input type="submit" value="Search" /><script>actb = new actb("q", search_index);</script>
</form>
</div>


</td>
<td class="content">


<div id="toc"
    ><ul
      ><li
	><a href="#font-addons" id="TOC-font-addons"
	  >Font addons</a
	  ><ul
	  ><li
	    ><a href="#al_destroy_font" id="TOC-al_destroy_font"
	      >al_destroy_font</a
	      ></li
	    ><li
	    ><a href="#al_grab_font_from_bitmap" id="TOC-al_grab_font_from_bitmap"
	      >al_grab_font_from_bitmap</a
	      ></li
	    ><li
	    ><a href="#al_init_font_addon" id="TOC-al_init_font_addon"
	      >al_init_font_addon</a
	      ></li
	    ><li
	    ><a href="#al_load_bitmap_font" id="TOC-al_load_bitmap_font"
	      >al_load_bitmap_font</a
	      ></li
	    ><li
	    ><a href="#al_load_font" id="TOC-al_load_font"
	      >al_load_font</a
	      ></li
	    ><li
	    ><a href="#al_load_bitmap_font-1" id="TOC-al_load_bitmap_font-1"
	      >al_load_bitmap_font</a
	      ></li
	    ><li
	    ><a href="#al_register_font_extension" id="TOC-al_register_font_extension"
	      >al_register_font_extension</a
	      ></li
	    ><li
	    ><a href="#al_get_font_line_height" id="TOC-al_get_font_line_height"
	      >al_get_font_line_height</a
	      ></li
	    ><li
	    ><a href="#al_get_text_width" id="TOC-al_get_text_width"
	      >al_get_text_width</a
	      ></li
	    ><li
	    ><a href="#al_get_ustr_width" id="TOC-al_get_ustr_width"
	      >al_get_ustr_width</a
	      ></li
	    ><li
	    ><a href="#al_draw_text" id="TOC-al_draw_text"
	      >al_draw_text</a
	      ></li
	    ><li
	    ><a href="#al_draw_ustr" id="TOC-al_draw_ustr"
	      >al_draw_ustr</a
	      ></li
	    ><li
	    ><a href="#al_draw_justified_text" id="TOC-al_draw_justified_text"
	      >al_draw_justified_text</a
	      ></li
	    ><li
	    ><a href="#al_draw_justified_ustr" id="TOC-al_draw_justified_ustr"
	      >al_draw_justified_ustr</a
	      ></li
	    ><li
	    ><a href="#al_draw_textf" id="TOC-al_draw_textf"
	      >al_draw_textf</a
	      ></li
	    ><li
	    ><a href="#al_draw_justified_textf" id="TOC-al_draw_justified_textf"
	      >al_draw_justified_textf</a
	      ></li
	    ><li
	    ><a href="#al_get_text_dimensions" id="TOC-al_get_text_dimensions"
	      >al_get_text_dimensions</a
	      ></li
	    ><li
	    ><a href="#al_get_ustr_dimensions" id="TOC-al_get_ustr_dimensions"
	      >al_get_ustr_dimensions</a
	      ></li
	    ><li
	    ><a href="#al_load_ttf_font" id="TOC-al_load_ttf_font"
	      >al_load_ttf_font</a
	      ></li
	    ><li
	    ><a href="#al_init_ttf_addon" id="TOC-al_init_ttf_addon"
	      >al_init_ttf_addon</a
	      ></li
	    ></ul
	  ></li
	></ul
      ></div
    ><h1 id="font-addons"
    ><a href="#TOC-font-addons"
      >Font addons</a
      ></h1
    ><h2 id="al_destroy_font"
    ><a href="#TOC-al_destroy_font"
      >al_destroy_font</a
      ></h2
    ><pre
    ><code
      >void al_destroy_font(ALLEGRO_FONT *f)
</code
      ></pre
    ><p
    >Frees the memory being used by a font structure. This is now wholly handled in the vtable.</p
    ><h2 id="al_grab_font_from_bitmap"
    ><a href="#TOC-al_grab_font_from_bitmap"
      >al_grab_font_from_bitmap</a
      ></h2
    ><pre
    ><code
      >ALLEGRO_FONT *al_grab_font_from_bitmap(
   ALLEGRO_BITMAP *bmp,
   int ranges_n, int ranges[])
</code
      ></pre
    ><p
    >Work horse for grabbing a font from an Allegro bitmap.</p
    ><p
    >Parameters:</p
    ><ul
    ><li
      >bmp: The bitmap with the glyphs drawn onto it (TODO: describe expected format - opaque yellow background, fully transparent boxes all of same height but possibly variable width, white, possibly anti-aliased glyphs)</li
      ><li
      >n: Number of unicode ranges in the bitmap.</li
      ><li
      >ranges: 'n' pairs of first and last unicode point to map glyphs to for each range.</li
      ></ul
    ><p
    >Examples:</p
    ><pre
    ><code
      >int ranges[] = {32, 126};
al_font_grab_font_from_bitmap(bitmap, 1, ranges)

int ranges[] = {
    0x0020, 0x007F,  /* ASCII */
    0x00A1, 0x00FF,  /* Latin 1 */
    0x0100, 0x017F,  /* Extended-A */
    0x20AC, 0x20AC}; /* Euro */
al_font_grab_font_from_bitmap(bitmap, 4, ranges)
</code
      ></pre
    ><p
    >The first example will grab glyphs for the 95 standard printable ASCII characters, beginning with the space character (32) and ending with the tilde character (126). The second example will map the first 96 glyphs found in the bitmap to ASCII range, the next 95 glyphs to Latin 1, the next 128 glyphs to Extended-A, and the last glyph to the Euro character. (This is just the characters found in the Allegro 4 font.)</p
    ><h2 id="al_init_font_addon"
    ><a href="#TOC-al_init_font_addon"
      >al_init_font_addon</a
      ></h2
    ><pre
    ><code
      >void al_init_font_addon(void)
</code
      ></pre
    ><h2 id="al_load_bitmap_font"
    ><a href="#TOC-al_load_bitmap_font"
      >al_load_bitmap_font</a
      ></h2
    ><pre
    ><code
      >ALLEGRO_FONT *al_load_bitmap_font(const char *fname)
</code
      ></pre
    ><h2 id="al_load_font"
    ><a href="#TOC-al_load_font"
      >al_load_font</a
      ></h2
    ><pre
    ><code
      >ALLEGRO_FONT *al_load_font(char const *filename, int size, int flags)
</code
      ></pre
    ><p
    >Loads a font from disk.</p
    ><h2 id="al_load_bitmap_font-1"
    ><a href="#TOC-al_load_bitmap_font-1"
      >al_load_bitmap_font</a
      ></h2
    ><pre
    ><code
      >ALLEGRO_FONT *al_load_bitmap_font(const char *fname)
</code
      ></pre
    ><p
    >Import routine for the Allegro bitmap font format.</p
    ><h2 id="al_register_font_extension"
    ><a href="#TOC-al_register_font_extension"
      >al_register_font_extension</a
      ></h2
    ><pre
    ><code
      >bool al_register_font_extension(char const *extension,
   ALLEGRO_FONT *(*load_font)(char const *filename, int size, int flags))
</code
      ></pre
    ><p
    >Informs Allegro of a new font file type, telling it how to load files of this format.</p
    ><h2 id="al_get_font_line_height"
    ><a href="#TOC-al_get_font_line_height"
      >al_get_font_line_height</a
      ></h2
    ><pre
    ><code
      >int al_get_font_line_height(const ALLEGRO_FONT *f)
</code
      ></pre
    ><p
    >Returns the height of a character in the specified font.</p
    ><h2 id="al_get_text_width"
    ><a href="#TOC-al_get_text_width"
      >al_get_text_width</a
      ></h2
    ><pre
    ><code
      >int al_get_text_width(const ALLEGRO_FONT *f, const char *str)
</code
      ></pre
    ><p
    >Calculates the length of a string in a particular font.</p
    ><h2 id="al_get_ustr_width"
    ><a href="#TOC-al_get_ustr_width"
      >al_get_ustr_width</a
      ></h2
    ><pre
    ><code
      >int al_get_ustr_width(const ALLEGRO_FONT *f, ALLEGRO_USTR const *ustr)
</code
      ></pre
    ><p
    >See <a href="font.html#al_get_text_width"
      >al_get_text_width</a
      >.</p
    ><h2 id="al_draw_text"
    ><a href="#TOC-al_draw_text"
      >al_draw_text</a
      ></h2
    ><pre
    ><code
      >void al_draw_text(const ALLEGRO_FONT *font, float x, float y, int flags,
   char const *text) 
</code
      ></pre
    ><p
    >Writes the 0-terminated string <code
      >text</code
      > onto <code
      >bmp</code
      > at position <code
      >x</code
      >, <code
      >y</code
      >, using the specified <code
      >font</code
      >.</p
    ><p
    >The <code
      >flags</code
      > parameter can be 0 or one of the following flags:</p
    ><ul
    ><li
      >ALLEGRO_ALIGN_LEFT - Draw the text left-aligned (same as 0).</li
      ><li
      >ALLEGRO_ALIGN_CENTRE - Draw the text centered around the given position.</li
      ><li
      >ALLEGRO_ALIGN_RIGHT - Draw the text right-aligned to the given position.</li
      ></ul
    ><h2 id="al_draw_ustr"
    ><a href="#TOC-al_draw_ustr"
      >al_draw_ustr</a
      ></h2
    ><pre
    ><code
      >void al_draw_ustr(const ALLEGRO_FONT *font, float x, float y, int flags,
   const ALLEGRO_USTR *ustr) 
</code
      ></pre
    ><p
    >Like <a href="font.html#al_draw_text"
      >al_draw_text</a
      >, except the text is passed as an ALLEGRO_USTR instead of a 0-terminated char array.</p
    ><h2 id="al_draw_justified_text"
    ><a href="#TOC-al_draw_justified_text"
      >al_draw_justified_text</a
      ></h2
    ><pre
    ><code
      >void al_draw_justified_text(const ALLEGRO_FONT *font, float x1, float x2,
   float y, float diff, int flags, const char *text)
</code
      ></pre
    ><p
    >Like <a href=""
      >al_draw_text</a
      >, but justifies the string to the specified area.</p
    ><h2 id="al_draw_justified_ustr"
    ><a href="#TOC-al_draw_justified_ustr"
      >al_draw_justified_ustr</a
      ></h2
    ><pre
    ><code
      >void al_draw_justified_ustr(const ALLEGRO_FONT *font, float x1, float x2,
   float y, float diff, int flags, const ALLEGRO_USTR *ustr)
</code
      ></pre
    ><p
    >See <a href="font.html#al_draw_justified_text"
      >al_draw_justified_text</a
      >.</p
    ><h2 id="al_draw_textf"
    ><a href="#TOC-al_draw_textf"
      >al_draw_textf</a
      ></h2
    ><pre
    ><code
      >void al_draw_textf(const ALLEGRO_FONT *font, float x, float y, int flags,
   const char *format, ...)
</code
      ></pre
    ><p
    >Formatted text output, using a printf() style format string, all parameters have the same meaning as with <a href="font.html#al_draw_text"
      >al_draw_text</a
      > otherwise.</p
    ><h2 id="al_draw_justified_textf"
    ><a href="#TOC-al_draw_justified_textf"
      >al_draw_justified_textf</a
      ></h2
    ><pre
    ><code
      >void al_draw_justified_textf(const ALLEGRO_FONT *f, float x1, float x2, float y,
   float diff, int flags, const char *format, ...)
</code
      ></pre
    ><p
    >Like <a href="font.html#al_draw_justified_text"
      >al_draw_justified_text</a
      > and <a href="font.html#al_draw_textf"
      >al_draw_textf</a
      >.</p
    ><h2 id="al_get_text_dimensions"
    ><a href="#TOC-al_get_text_dimensions"
      >al_get_text_dimensions</a
      ></h2
    ><pre
    ><code
      >void al_get_text_dimensions(const ALLEGRO_FONT *f,
   char const *text,
   int *bbx, int *bby, int *bbw, int *bbh, int *ascent, int *descent)
</code
      ></pre
    ><p
    >Sometimes, the <a href="font.html#al_get_text_width"
      >al_get_text_width</a
      > and <a href="font.html#al_get_font_line_height"
      >al_get_font_line_height</a
      > functions are not enough for exact text placement, so this function returns some additional information.</p
    ><p
    >Returned variables (all in pixel):</p
    ><ul
    ><li
      >x, y - Offset to upper left corner of bounding box.</li
      ><li
      >w, h - Dimensions of bounding box.</li
      ><li
      >ascent - Ascent of the font.</li
      ><li
      >descent - Descent of the font.</li
      ></ul
    ><p
    >If the X is the position you specify to draw text, the meaning of ascent and descent and the line height is like in the figure below. Note that glyphs may go to the left and upwards of the X, in which case x and y will have negative values.</p
    ><pre
    ><code
      >X------------------------
    /\         |        |
   /  \        |        |
  /____\       ascent   |
 /      \      |        |
/        \     |        height
----------------        |
               |        |
               descent  |
               |        |
-------------------------
</code
      ></pre
    ><h2 id="al_get_ustr_dimensions"
    ><a href="#TOC-al_get_ustr_dimensions"
      >al_get_ustr_dimensions</a
      ></h2
    ><pre
    ><code
      >void al_get_ustr_dimensions(const ALLEGRO_FONT *f,
   ALLEGRO_USTR const *ustr,
   int *bbx, int *bby, int *bbw, int *bbh, int *ascent, int *descent)
</code
      ></pre
    ><p
    >See <a href="font.html#al_get_text_dimensions"
      >al_get_text_dimensions</a
      >.</p
    ><h2 id="al_load_ttf_font"
    ><a href="#TOC-al_load_ttf_font"
      >al_load_ttf_font</a
      ></h2
    ><pre
    ><code
      >ALLEGRO_FONT *al_load_ttf_font(char const *filename, int size, int flags)
</code
      ></pre
    ><p
    >Loads a truetype font from a file using the FreeType library. Quoting from the FreeType FAQ this means support for many different font formats:</p
    ><p
    ><em
      >TrueType, OpenType, Type1, CID, CFF, Windows FON/FNT, X11 PCF, and others</em
      ></p
    ><p
    >The <em
      >size</em
      > parameter determines the size the font will be rendered at, specified in pixel. The standard font size is measured in <em
      >units per EM</em
      >, if you instead want to specify the size as the total height of glyphs in pixel, pass it as a negative value.</p
    ><p
    >Note: If you want to display text at multiple sizes, load the font multiple times with different size parameters.</p
    ><p
    >The only flag supported right now is:</p
    ><ul
    ><li
      >ALLEGRO_TTF_NO_KERNING - Do not use any kerning even if the font file supports it.</li
      ></ul
    ><h2 id="al_init_ttf_addon"
    ><a href="#TOC-al_init_ttf_addon"
      >al_init_ttf_addon</a
      ></h2
    ><pre
    ><code
      >bool al_init_ttf_addon(void)
</code
      ></pre
    ><p
    >Call this after <a href="font.html#al_init_font_addon"
      >al_init_font_addon</a
      > to make <a href="font.html#al_load_font"
      >al_load_font</a
      > recognize .ttf and other formats supported by <a href="font.html#al_load_ttf_font"
      >al_load_ttf_font</a
      >.</p
    ></td>
</tr>
</table>


<p>
Last updated: 2009-06-07 09:43:01 UTC
</p>
</body
  ></html
>

